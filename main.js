"use strict";function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function pixabay(){var a=5,b=30,c=function(){return"https://pixabay.com/api/?key=8553434-1c384dc24960b57b19ec457d7&image_type=photo&orientation=horizontal&editors_choice=true&safesearch=true&per_page="+b+"&page="+getRandomInt(a,1)},d=function(a){return{url:a.webformatURL.replace("_640.","_960."),title:null,author:a.user,link:a.pageURL}};return{fetch:createFetch(c,function(c){return a=Math.floor(c.totalHits/b)-1,c.hits.map(d)})}}function BgService(a){function b(){return new Promise(function(b,d){0===c.length?a.fetch().then(function(a){c.push.apply(c,_toConsumableArray(a)),b(c.pop())},d):b(c.pop())})}var c=[];return{next:b}}function next(){bgService.next().then(function(a){var b=new Image;b.src=a.url,b.onload=function(b){return refresh(a,m)}})}function createFetch(a,b){return function(){return new Promise(function(c,d){fetch(a()).then(function(a){return a.json()},d).then(function(a){return c(b(a))},d)})}}function getRandomInt(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*(a-b+1))+b}function createInnerTextByIdMap(a){return{el:document.getElementById(a),set:function(a,b){return a.innerText=b}}}function refresh(a,b){for(var c in b)b[c].set&&"function"==typeof b[c].set&&b[c].el&&a[c]&&b[c].set(b[c].el,a[c])}var d={url:"/img/bg.jpg",title:"",link:"https://pixabay.com/en/sunset-lake-mountain-scenery-142698/",author:"werner22brigitte"},m={url:{el:document.body,set:function(a,b){return a.style.backgroundImage="url("+b+")"}},title:createInnerTextByIdMap("title"),link:{el:document.getElementById("link"),set:function(a,b){return a.href=b}},author:createInnerTextByIdMap("author")},bgService=new BgService(new pixabay);refresh(d,m);